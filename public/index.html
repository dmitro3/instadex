<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link
      rel="shortcut icon"
      id="favicon"
      type="image/png"
      href="%PUBLIC_URL%/favicon.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="192x192"
      href="%PUBLIC_URL%/images/192x192_App_Icon.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="512x512"
      href="%PUBLIC_URL%/images/512x512_App_Icon.png"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000" />
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <title>InstaDex</title>

    <script>
      (function () {
        const { hostname, protocol, href } = window.location;
        const domain = hostname || document.location.host;

        const DOMAIN_TITLES = {
          "internethedgefund.com": "IHF Swap",
          "eeecex.net": "eeecEx",
        };

        // Set title dynamically for specific domains
        if (DOMAIN_TITLES[domain]) {
          document.title = DOMAIN_TITLES[domain];
        }

        // Save ?ref= parameter to localStorage if present
        const params = new URLSearchParams(window.location.search);
        const ref = params.get("ref");
        if (ref) {
          localStorage.setItem("ref", ref);
        }

        // ‚ùå Removed the forced HTTP/HTTPS redirect to prevent reload loops on Netlify
        // Netlify already forces HTTPS automatically

        // Set favicon (custom from localStorage if exists)
        let favicon = document.getElementById("favicon");
        if (!favicon) {
          favicon = document.createElement("link");
          favicon.rel = "shortcut icon";
          favicon.id = "favicon";
          favicon.type = "image/png";
          document.head.appendChild(favicon);
        }

        const faviconUrl = localStorage.getItem("faviconUrl");
        if (faviconUrl) {
          favicon.href = faviconUrl;
        }
      })();
    </script>
  </head>

  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
  </body>
</html>
